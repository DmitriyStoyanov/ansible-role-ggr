---
# This is an example playbook to execute Ansible tests.
- name: Verify
  hosts: all
  tasks:
    - name: Populate service facts
      service_facts:

    - name: Debug ansible_facts.services
      debug:
        var: ansible_facts.services

    - name: Get service status
      command: service ggr status
      register: services_state

    - name: Debug
      debug:
        var: services_state

    - name: Assert that ggr services are running
      assert:
        that:
          - "'running' in ansible_facts.services['ggr.service'].state"
          - "'running' in ansible_facts.services['ggr-ui.service'].state"
